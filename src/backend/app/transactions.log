2024-12-30 23:02:33,657 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Starting topology monitoring"}
2024-12-30 23:02:33,657 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "previousDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: Unknown, servers: []>", "newDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>]>", "message": "Topology description changed"}
2024-12-30 23:02:33,658 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "message": "Starting server monitoring"}
2024-12-30 23:02:33,658 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "message": "Starting server monitoring"}
2024-12-30 23:02:33,658 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "message": "Starting server monitoring"}
2024-12-30 23:02:33,658 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool created", "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,659 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool created", "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,660 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool created", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,665 - DEBUG - registered 'bcrypt' handler: <class 'passlib.handlers.bcrypt.bcrypt'>
2024-12-30 23:02:33,695 - DEBUG - Using proactor: IocpProactor
2024-12-30 23:02:33,734 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,734 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,735 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,737 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,737 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,737 - DEBUG - Starting new HTTP connection (1): r11.o.lencr.org:80
2024-12-30 23:02:33,737 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,738 - DEBUG - Starting new HTTP connection (1): r11.o.lencr.org:80
2024-12-30 23:02:33,739 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,739 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,739 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,740 - DEBUG - Starting new HTTP connection (1): r11.o.lencr.org:80
2024-12-30 23:02:33,764 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:33,764 - DEBUG - {"message": "Waiting for suitable server to become available", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "remainingTimeMS": 30}
2024-12-30 23:02:33,779 - DEBUG - http://r11.o.lencr.org:80 "POST / HTTP/1.1" 200 504
2024-12-30 23:02:33,779 - DEBUG - OCSP response status: <OCSPResponseStatus.SUCCESSFUL: 0>
2024-12-30 23:02:33,779 - DEBUG - http://r11.o.lencr.org:80 "POST / HTTP/1.1" 200 504
2024-12-30 23:02:33,780 - DEBUG - Verifying response
2024-12-30 23:02:33,780 - DEBUG - OCSP response status: <OCSPResponseStatus.SUCCESSFUL: 0>
2024-12-30 23:02:33,780 - DEBUG - Responder is issuer
2024-12-30 23:02:33,780 - DEBUG - Verifying response
2024-12-30 23:02:33,781 - DEBUG - Caching OCSP response.
2024-12-30 23:02:33,781 - DEBUG - Responder is issuer
2024-12-30 23:02:33,781 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,781 - DEBUG - Caching OCSP response.
2024-12-30 23:02:33,781 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,782 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "message": "Server heartbeat started"}
2024-12-30 23:02:33,782 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "message": "Server heartbeat started"}
2024-12-30 23:02:33,795 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "durationMS": 14.999999999417923, "reply": "{\"helloOk\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"ismaster\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"diskState\": \"READY\", \"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"workloadType\": \"OPERATIONAL\", \"provider\": \"AZURE\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"l...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:33,796 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "durationMS": 14.999999999417923, "reply": "{\"helloOk\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:34.419Z\"}, \"...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:33,802 - DEBUG - http://r11.o.lencr.org:80 "POST / HTTP/1.1" 200 504
2024-12-30 23:02:33,809 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool ready", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,810 - DEBUG - OCSP response status: <OCSPResponseStatus.SUCCESSFUL: 0>
2024-12-30 23:02:33,810 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "previousDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>]>", "newDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "message": "Topology description changed"}
2024-12-30 23:02:33,810 - DEBUG - Verifying response
2024-12-30 23:02:33,811 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool ready", "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,811 - DEBUG - Responder is issuer
2024-12-30 23:02:33,811 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:33,811 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "previousDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "newDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "message": "Topology description changed"}
2024-12-30 23:02:33,811 - DEBUG - Caching OCSP response.
2024-12-30 23:02:33,812 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,812 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:33,812 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,812 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,813 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection created", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:33,813 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "message": "Server heartbeat started"}
2024-12-30 23:02:33,826 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": false, "durationMS": 16.00000000325963, "reply": "{\"helloOk\": true, \"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:34Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:34.448Z\"}, \"...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:33,827 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection pool ready", "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,827 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "previousDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: Unknown, rtt: None>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "newDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "message": "Topology description changed"}
2024-12-30 23:02:33,827 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:33,849 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,849 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,849 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,849 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,849 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,849 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,850 - DEBUG - Using cached OCSP response.
2024-12-30 23:02:33,850 - DEBUG - Using cached OCSP response.
2024-12-30 23:02:33,850 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,850 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,866 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,866 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,866 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,866 - DEBUG - Using cached OCSP response.
2024-12-30 23:02:33,867 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,874 - DEBUG - Peer did not staple an OCSP response
2024-12-30 23:02:33,875 - DEBUG - Requesting OCSP data
2024-12-30 23:02:33,875 - DEBUG - Trying http://r11.o.lencr.org
2024-12-30 23:02:33,875 - DEBUG - Using cached OCSP response.
2024-12-30 23:02:33,875 - DEBUG - OCSP cert status: <OCSPCertStatus.GOOD: 0>
2024-12-30 23:02:33,926 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection ready", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.046000000002095476}
2024-12-30 23:02:33,926 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.10900000000401633}
2024-12-30 23:02:33,927 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 6588, "operationId": 6588, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,941 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.147, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1000.6}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 13}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 6588, "operationId": 6588, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,941 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:33,998 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:33,998 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,999 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:33,999 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:33,999 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 223, "operationId": 223, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,014 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.756, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 223, "operationId": 223, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,014 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:34,015 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:34,015 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,015 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,015 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:34,015 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:02:33.998-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 14}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 31847, "operationId": 31847, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,029 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.546999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 14}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 14}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 31847, "operationId": 31847, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,030 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:34,030 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:34,030 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,031 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,031 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:34,031 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 14}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:02:33.998-0500\"}, \"total_value\": 1000.6, \"cash_balance\": 1000.6, \"_id\": {\"$oid\": \"67736cda00fc7b9c128ff767\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 30824, "operationId": 30824, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,054 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 22.098, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 15}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 15}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 30824, "operationId": 30824, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,054 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:34,055 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:02:34,056 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:34,056 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.014999999999417923>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.014999999999417923>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,056 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,056 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:34,056 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617754, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YS+4PgCuYsazm4ITwGDIQKleP6c=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 29764, "operationId": 29764, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,069 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.891, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 29764, "operationId": 29764, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:34,069 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:34,069 - DEBUG - Found 8 transactions
2024-12-30 23:02:34,069 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:02:34,069 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:02:34,069 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:02:34,070 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:02:34,070 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:02:34,070 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:02:34,070 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:02:34,070 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:02:34,070 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:02:34,070 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:34,071 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:02:34,071 - DEBUG - 
        Portfolio Summary:
        Total Equity: 0.00
        Total Cost Basis: 0.00
        Unrealized P/L: 0.00
        
2024-12-30 23:02:43,834 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10016.00000000326, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:44.457Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:43,835 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:43,836 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10016.00000000326, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"isWritablePrimary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"region\": \"CANADA_CENTRAL\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTi...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:43,836 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:43,846 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10014.999999999418, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"workloadType\": \"OPERATIONAL\", \"provider\": \"AZURE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:44Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:44.468Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:43,847 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:52,614 - DEBUG - Entering download()
2024-12-30 23:02:52,614 - DEBUG - Disabling multithreading because DEBUG logging enabled
2024-12-30 23:02:52,615 - DEBUG -  Entering history()
2024-12-30 23:02:52,616 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2024-12-30 23:02:52,616 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:02:52,617 - DEBUG -   Entering history()
2024-12-30 23:02:52,617 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:02:52,617 - DEBUG -    Entering get()
2024-12-30 23:02:52,617 - DEBUG -     Entering _make_request()
2024-12-30 23:02:52,617 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:02:52,617 - DEBUG - params={'range': '1d', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:02:52,617 - DEBUG -      Entering _get_cookie_and_crumb()
2024-12-30 23:02:52,617 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:02:52,618 - DEBUG -       Entering _get_cookie_and_crumb_basic()
2024-12-30 23:02:52,619 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2024-12-30 23:02:52,619 - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2024-12-30 23:02:52,619 - DEBUG - loaded persistent cookie
2024-12-30 23:02:52,619 - DEBUG - reusing cookie
2024-12-30 23:02:52,620 - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2024-12-30 23:02:52,729 - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2024-12-30 23:02:52,729 - DEBUG - crumb = 'P8TgYzxOaBO'
2024-12-30 23:02:52,730 - DEBUG -       Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:02:52,730 - DEBUG -      Exiting _get_cookie_and_crumb()
2024-12-30 23:02:52,731 - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2024-12-30 23:02:52,840 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1926
2024-12-30 23:02:52,840 - DEBUG - response code=200
2024-12-30 23:02:52,841 - DEBUG -     Exiting _make_request()
2024-12-30 23:02:52,841 - DEBUG -    Exiting get()
2024-12-30 23:02:52,842 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 -> 2024-12-30 21:00:00
2024-12-30 23:02:52,847 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,847 - DEBUG - INTC: OHLC after combining events: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,849 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,850 - DEBUG -   Exiting history()
2024-12-30 23:02:52,850 - DEBUG -  Exiting history()
2024-12-30 23:02:52,851 - DEBUG - Exiting download()
2024-12-30 23:02:52,855 - DEBUG - Entering download()
2024-12-30 23:02:52,855 - DEBUG - Disabling multithreading because DEBUG logging enabled
2024-12-30 23:02:52,855 - DEBUG -  Entering history()
2024-12-30 23:02:52,855 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:02:52,855 - DEBUG -   Entering history()
2024-12-30 23:02:52,855 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:02:52,855 - DEBUG -    Entering get()
2024-12-30 23:02:52,855 - DEBUG -     Entering _make_request()
2024-12-30 23:02:52,855 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:02:52,855 - DEBUG - params={'range': '1d', 'interval': '1h', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:02:52,857 - DEBUG -      Entering _get_cookie_and_crumb()
2024-12-30 23:02:52,857 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:02:52,857 - DEBUG -       Entering _get_cookie_and_crumb_basic()
2024-12-30 23:02:52,857 - DEBUG - reusing cookie
2024-12-30 23:02:52,857 - DEBUG - reusing crumb
2024-12-30 23:02:52,857 - DEBUG -       Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:02:52,857 - DEBUG -      Exiting _get_cookie_and_crumb()
2024-12-30 23:02:52,874 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1h&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1926
2024-12-30 23:02:52,875 - DEBUG - response code=200
2024-12-30 23:02:52,875 - DEBUG -     Exiting _make_request()
2024-12-30 23:02:52,875 - DEBUG -    Exiting get()
2024-12-30 23:02:52,875 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 -> 2024-12-30 21:00:00
2024-12-30 23:02:52,878 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,878 - DEBUG - INTC: OHLC after combining events: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,881 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 09:30:00-05:00 -> 2024-12-30 15:30:00-05:00
2024-12-30 23:02:52,881 - DEBUG -   Exiting history()
2024-12-30 23:02:52,881 - DEBUG -  Exiting history()
2024-12-30 23:02:52,882 - DEBUG - Exiting download()
2024-12-30 23:02:52,897 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:52,898 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,898 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,898 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:52,898 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617764, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ic7jPGh88zmk9gL+0GYcBODrC9k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 15878, "operationId": 15878, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,910 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.017999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1000.6}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r926Vej48HNP/JPvkCXB8b0aUG4=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 15878, "operationId": 15878, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,911 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:52,921 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:52,922 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,922 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,922 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:52,922 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r926Vej48HNP/JPvkCXB8b0aUG4=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 16881, "operationId": 16881, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,937 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.507000000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1000.6}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r926Vej48HNP/JPvkCXB8b0aUG4=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 16881, "operationId": 16881, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,937 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:52,940 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:02:52,940 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:52,940 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,940 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,940 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:52,941 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r926Vej48HNP/JPvkCXB8b0aUG4=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 1802, "operationId": 1802, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,955 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 15.440000000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 1802, "operationId": 1802, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,955 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:52,955 - DEBUG - Found 8 transactions
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:02:52,955 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:02:52,957 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:02:52,957 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:52,957 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:02:52,957 - DEBUG - 
        Portfolio Summary:
        Total Equity: 0.00
        Total Cost Basis: 0.00
        Unrealized P/L: 0.00
        
2024-12-30 23:02:52,973 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:02:52,973 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:52,973 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01600000000325963>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.015199999998731074>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015199999998731074>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,974 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,974 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:52,974 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617773, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r926Vej48HNP/JPvkCXB8b0aUG4=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 10212, "operationId": 10212, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,986 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.014999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 10212, "operationId": 10212, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:52,987 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:52,987 - DEBUG - Found 8 transactions
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:02:52,987 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:02:52,987 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:02:52,988 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:02:52,988 - DEBUG - 
        Portfolio Summary:
        Total Equity: 0.00
        Total Cost Basis: 0.00
        Unrealized P/L: 0.00
        
2024-12-30 23:02:53,841 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10014.999999999418, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:54.465Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:53,842 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:53,845 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10014.999999999418, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"isWritablePrimary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"region\": \"CANADA_CENTRAL\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 11}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 11}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTi...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:53,845 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:53,847 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 11}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 11}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:02:54Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:02:54.469Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:02:53,847 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:02:59,725 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:59,726 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,726 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,726 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:59,726 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617774, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hpu8ImB0bDnTKRNvY0OktuAFwVg=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 3285, "operationId": 3285, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,738 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.037, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1000.6}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 12}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 3285, "operationId": 3285, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,739 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:59,739 - DEBUG - Initial user balance: 1000.6
2024-12-30 23:02:59,739 - DEBUG - Transaction request: {'symbol': 'INTC', 'quantity': 50, 'type': 'buy', 'price': 19.81}
2024-12-30 23:02:59,739 - DEBUG - Price rounding - Input: 19.81, Rounded: 19.81
2024-12-30 23:02:59,757 - DEBUG - Total cost calculation - Input: 990.5, Rounded: 990.50
2024-12-30 23:02:59,757 - DEBUG - Raw total: 990.50, Rounded total: 990.5
2024-12-30 23:02:59,757 - DEBUG - Current balance - Input: 1000.6, Rounded: 1000.60
2024-12-30 23:02:59,757 - DEBUG - Current balance: 1000.6
2024-12-30 23:02:59,757 - DEBUG - New balance after buy - Input: 10.100000000000023, Rounded: 10.10
2024-12-30 23:02:59,757 - DEBUG - Balance change: 1000.6 -> 10.1
2024-12-30 23:02:59,758 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:59,758 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,758 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,758 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:59,758 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"update\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"updates\": [{\"q\": {\"email\": \"muhammadharis337@gmail.com\"}, \"u\": {\"$set\": {\"balance\": 10.1}}}]}", "commandName": "update", "databaseName": "StockSim", "requestId": 32689, "operationId": 32689, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,777 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 19.043, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 13}}, \"t\": 203}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 13}}}", "commandName": "update", "databaseName": "StockSim", "requestId": 32689, "operationId": 32689, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,777 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:59,778 - DEBUG - Inserting transaction record: {'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778086, tzinfo=datetime.timezone.utc)}
2024-12-30 23:02:59,778 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:59,778 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,778 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,779 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:59,779 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"transactions\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 50, \"price\": 19.81, \"total\": 990.5, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T04:02:59.778Z\"}, \"_id\": {\"$oid\": \"67736cf300fc7b9c128ff768\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 6528, "operationId": 6528, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,795 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 16.097, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 14}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 14}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 6528, "operationId": 6528, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:59,796 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:59,796 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:59,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 11932, "operationId": 11932, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,809 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.343, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 11932, "operationId": 11932, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,809 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:02:59,809 - DEBUG - Final user balance: 10.1
2024-12-30 23:02:59,815 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:02:59,815 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,815 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,815 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:02:59,816 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 23200, "operationId": 23200, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,829 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.004999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 23200, "operationId": 23200, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:02:59,830 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,279 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,280 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,280 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,280 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,281 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617780, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SQ7mq262UBsqcEyLJJIzWwpoptE=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 7100, "operationId": 7100, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,296 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 16.238, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8FZI5jSoNDxj9nnCK1Tpg2djmrU=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 7100, "operationId": 7100, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,296 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,296 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,297 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,297 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,297 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,297 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8FZI5jSoNDxj9nnCK1Tpg2djmrU=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 13153, "operationId": 13153, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,311 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.51, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 13153, "operationId": 13153, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,311 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,312 - DEBUG - Entering history()
2024-12-30 23:03:02,312 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,312 - DEBUG -  Entering history()
2024-12-30 23:03:02,312 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,312 - DEBUG -   Entering get()
2024-12-30 23:03:02,312 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,313 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,313 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,313 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,313 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,313 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,313 - DEBUG - reusing cookie
2024-12-30 23:03:02,313 - DEBUG - reusing crumb
2024-12-30 23:03:02,313 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,314 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,395 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,396 - DEBUG - response code=200
2024-12-30 23:03:02,396 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,396 - DEBUG -   Exiting get()
2024-12-30 23:03:02,397 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,397 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,401 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,404 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,404 - DEBUG -  Exiting history()
2024-12-30 23:03:02,404 - DEBUG - Exiting history()
2024-12-30 23:03:02,404 - DEBUG - Entering history()
2024-12-30 23:03:02,405 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,405 - DEBUG -  Entering history()
2024-12-30 23:03:02,405 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,405 - DEBUG -   Entering get()
2024-12-30 23:03:02,405 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,405 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,405 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,405 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,405 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,405 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,405 - DEBUG - reusing cookie
2024-12-30 23:03:02,405 - DEBUG - reusing crumb
2024-12-30 23:03:02,405 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,406 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,423 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,423 - DEBUG - response code=200
2024-12-30 23:03:02,423 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,425 - DEBUG -   Exiting get()
2024-12-30 23:03:02,425 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,426 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,428 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,431 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,431 - DEBUG -  Exiting history()
2024-12-30 23:03:02,431 - DEBUG - Exiting history()
2024-12-30 23:03:02,431 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,432 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,432 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,432 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,432 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:03:02.296-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8FZI5jSoNDxj9nnCK1Tpg2djmrU=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 7224, "operationId": 7224, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,447 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 15.013, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8FZI5jSoNDxj9nnCK1Tpg2djmrU=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 7224, "operationId": 7224, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,447 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,448 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,448 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,448 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,448 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,449 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617782, \"i\": 25}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8FZI5jSoNDxj9nnCK1Tpg2djmrU=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:03:02.296-0500\"}, \"total_value\": 1001.099984741211, \"equity\": 990.9999847412109, \"cash_balance\": 10.1, \"_id\": {\"$oid\": \"67736cf600fc7b9c128ff769\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 20560, "operationId": 20560, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,467 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 17.802, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 3}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 3}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 20560, "operationId": 20560, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,467 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,470 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:03:02,470 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,470 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,470 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,471 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,471 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 11876, "operationId": 11876, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,484 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.020999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 11876, "operationId": 11876, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,484 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,484 - DEBUG - Found 9 transactions
2024-12-30 23:03:02,484 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:02,484 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:02,484 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:02,484 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:02,484 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:02,485 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:02,485 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:02,485 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:02,485 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:02,485 - DEBUG - Updated holdings for INTC: {'quantity': 50, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:02,485 - DEBUG - Entering history()
2024-12-30 23:03:02,486 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,486 - DEBUG -  Entering history()
2024-12-30 23:03:02,486 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,486 - DEBUG -   Entering get()
2024-12-30 23:03:02,486 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,486 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,486 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,486 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,486 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,486 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,487 - DEBUG - reusing cookie
2024-12-30 23:03:02,487 - DEBUG - reusing crumb
2024-12-30 23:03:02,487 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,487 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,502 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,503 - DEBUG - response code=200
2024-12-30 23:03:02,503 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,503 - DEBUG -   Exiting get()
2024-12-30 23:03:02,503 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,505 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,506 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,508 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,508 - DEBUG -  Exiting history()
2024-12-30 23:03:02,508 - DEBUG - Exiting history()
2024-12-30 23:03:02,508 - DEBUG - Current price for INTC - Input: 19.81999969482422, Rounded: 19.82
2024-12-30 23:03:02,508 - DEBUG - Market value for INTC - Input: 991.0, Rounded: 991.00
2024-12-30 23:03:02,508 - DEBUG - 
                        Symbol: INTC
                        Quantity: 50
                        Average Cost: 51.51
                        Current Price: 19.82
                        Market Value: 991.0
                        Total Cost: 2575.30
                        Total Proceeds: 1585.40
                        
2024-12-30 23:03:02,509 - DEBUG - 
        Portfolio Summary:
        Total Equity: 991.00
        Total Cost Basis: 2575.30
        Unrealized P/L: -1584.30
        
2024-12-30 23:03:02,512 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,512 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,513 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,513 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,513 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 4739, "operationId": 4739, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,526 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.087, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 8}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 4739, "operationId": 4739, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,527 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,527 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,527 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,528 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,528 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,528 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 25286, "operationId": 25286, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,541 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.017000000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 25286, "operationId": 25286, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,542 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,542 - DEBUG - Entering history()
2024-12-30 23:03:02,542 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,542 - DEBUG -  Entering history()
2024-12-30 23:03:02,543 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,543 - DEBUG -   Entering get()
2024-12-30 23:03:02,543 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,543 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,543 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,543 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,543 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,544 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,544 - DEBUG - reusing cookie
2024-12-30 23:03:02,544 - DEBUG - reusing crumb
2024-12-30 23:03:02,544 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,544 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,561 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,561 - DEBUG - response code=200
2024-12-30 23:03:02,561 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,561 - DEBUG -   Exiting get()
2024-12-30 23:03:02,562 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,563 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,564 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,566 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,566 - DEBUG -  Exiting history()
2024-12-30 23:03:02,566 - DEBUG - Exiting history()
2024-12-30 23:03:02,566 - DEBUG - Entering history()
2024-12-30 23:03:02,566 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,566 - DEBUG -  Entering history()
2024-12-30 23:03:02,567 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,567 - DEBUG -   Entering get()
2024-12-30 23:03:02,567 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,567 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,567 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,567 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,567 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,567 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,567 - DEBUG - reusing cookie
2024-12-30 23:03:02,567 - DEBUG - reusing crumb
2024-12-30 23:03:02,567 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,568 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,584 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,584 - DEBUG - response code=200
2024-12-30 23:03:02,585 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,585 - DEBUG -   Exiting get()
2024-12-30 23:03:02,585 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,586 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,587 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,589 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,589 - DEBUG -  Exiting history()
2024-12-30 23:03:02,589 - DEBUG - Exiting history()
2024-12-30 23:03:02,589 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,590 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,590 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,590 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,590 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:03:02.527-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 21768, "operationId": 21768, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,604 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.506, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 9}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 21768, "operationId": 21768, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,604 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,605 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,605 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,605 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,605 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,606 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 5, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:03:02.527-0500\"}, \"total_value\": 1001.099984741211, \"equity\": 990.9999847412109, \"cash_balance\": 10.1, \"_id\": {\"$oid\": \"67736cf600fc7b9c128ff76a\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 2641, "operationId": 2641, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,621 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 16.505, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 2641, "operationId": 2641, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,621 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,623 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,623 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,623 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,624 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,624 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 26302, "operationId": 26302, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,638 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.507, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 26302, "operationId": 26302, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,638 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,639 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,639 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,639 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,639 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,639 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 15181, "operationId": 15181, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,652 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.023, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 15181, "operationId": 15181, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,652 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,654 - DEBUG - Entering history()
2024-12-30 23:03:02,654 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,654 - DEBUG -  Entering history()
2024-12-30 23:03:02,654 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,654 - DEBUG -   Entering get()
2024-12-30 23:03:02,654 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,655 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,655 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,655 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,655 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,655 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,655 - DEBUG - reusing cookie
2024-12-30 23:03:02,655 - DEBUG - reusing crumb
2024-12-30 23:03:02,655 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,655 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,675 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,676 - DEBUG - response code=200
2024-12-30 23:03:02,676 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,676 - DEBUG -   Exiting get()
2024-12-30 23:03:02,677 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,677 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,678 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,680 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,681 - DEBUG -  Exiting history()
2024-12-30 23:03:02,681 - DEBUG - Exiting history()
2024-12-30 23:03:02,681 - DEBUG - Entering history()
2024-12-30 23:03:02,681 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,681 - DEBUG -  Entering history()
2024-12-30 23:03:02,682 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,682 - DEBUG -   Entering get()
2024-12-30 23:03:02,682 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,682 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,682 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,682 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,682 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,682 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,682 - DEBUG - reusing cookie
2024-12-30 23:03:02,682 - DEBUG - reusing crumb
2024-12-30 23:03:02,682 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,682 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,700 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,700 - DEBUG - response code=200
2024-12-30 23:03:02,700 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,700 - DEBUG -   Exiting get()
2024-12-30 23:03:02,701 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,701 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,703 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,704 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,704 - DEBUG -  Exiting history()
2024-12-30 23:03:02,704 - DEBUG - Exiting history()
2024-12-30 23:03:02,705 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,705 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,705 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,705 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,705 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:03:02.639-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 9224, "operationId": 9224, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,729 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 24.339, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 13}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 9224, "operationId": 9224, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,729 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,730 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,730 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,730 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,731 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,731 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 6, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:03:02.639-0500\"}, \"total_value\": 1001.099984741211, \"equity\": 990.9999847412109, \"cash_balance\": 10.1, \"_id\": {\"$oid\": \"67736cf600fc7b9c128ff76b\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 2771, "operationId": 2771, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,752 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 20.663999999999998, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 14}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 14}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 14}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 2771, "operationId": 2771, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,752 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,754 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:03:02,754 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,754 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,754 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,754 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,755 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 14}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 14067, "operationId": 14067, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,767 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.462, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 14067, "operationId": 14067, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,768 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,768 - DEBUG - Found 9 transactions
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:02,768 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:02,769 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:02,769 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:02,769 - DEBUG - Updated holdings for INTC: {'quantity': 50, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:02,769 - DEBUG - Entering history()
2024-12-30 23:03:02,770 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,770 - DEBUG -  Entering history()
2024-12-30 23:03:02,770 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,770 - DEBUG -   Entering get()
2024-12-30 23:03:02,770 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,770 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,770 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,770 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,770 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,771 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,771 - DEBUG - reusing cookie
2024-12-30 23:03:02,771 - DEBUG - reusing crumb
2024-12-30 23:03:02,771 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,771 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,789 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,789 - DEBUG - response code=200
2024-12-30 23:03:02,789 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,789 - DEBUG -   Exiting get()
2024-12-30 23:03:02,790 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,791 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,792 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,794 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,794 - DEBUG -  Exiting history()
2024-12-30 23:03:02,794 - DEBUG - Exiting history()
2024-12-30 23:03:02,794 - DEBUG - Current price for INTC - Input: 19.81999969482422, Rounded: 19.82
2024-12-30 23:03:02,794 - DEBUG - Market value for INTC - Input: 991.0, Rounded: 991.00
2024-12-30 23:03:02,794 - DEBUG - 
                        Symbol: INTC
                        Quantity: 50
                        Average Cost: 51.51
                        Current Price: 19.82
                        Market Value: 991.0
                        Total Cost: 2575.30
                        Total Proceeds: 1585.40
                        
2024-12-30 23:03:02,794 - DEBUG - 
        Portfolio Summary:
        Total Equity: 991.00
        Total Cost Basis: 2575.30
        Unrealized P/L: -1584.30
        
2024-12-30 23:03:02,795 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,796 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,796 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 1724, "operationId": 1724, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,808 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.305, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 1724, "operationId": 1724, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,809 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,809 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,809 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,810 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,810 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,810 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 31185, "operationId": 31185, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,823 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.505, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 31185, "operationId": 31185, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,823 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,824 - DEBUG - Entering history()
2024-12-30 23:03:02,824 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,824 - DEBUG -  Entering history()
2024-12-30 23:03:02,824 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,824 - DEBUG -   Entering get()
2024-12-30 23:03:02,824 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,824 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,824 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,825 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,825 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,825 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,825 - DEBUG - reusing cookie
2024-12-30 23:03:02,825 - DEBUG - reusing crumb
2024-12-30 23:03:02,825 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,825 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,842 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,842 - DEBUG - response code=200
2024-12-30 23:03:02,842 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,842 - DEBUG -   Exiting get()
2024-12-30 23:03:02,843 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,843 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,844 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,846 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,846 - DEBUG -  Exiting history()
2024-12-30 23:03:02,846 - DEBUG - Exiting history()
2024-12-30 23:03:02,846 - DEBUG - Entering history()
2024-12-30 23:03:02,846 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:02,847 - DEBUG -  Entering history()
2024-12-30 23:03:02,847 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,847 - DEBUG -   Entering get()
2024-12-30 23:03:02,847 - DEBUG -    Entering _make_request()
2024-12-30 23:03:02,847 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:02,847 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:02,847 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:02,847 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:02,847 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,847 - DEBUG - reusing cookie
2024-12-30 23:03:02,847 - DEBUG - reusing crumb
2024-12-30 23:03:02,847 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:02,847 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:02,865 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:02,865 - DEBUG - response code=200
2024-12-30 23:03:02,866 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:02,866 - DEBUG -   Exiting get()
2024-12-30 23:03:02,866 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:02,866 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:02,868 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,870 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:02,870 - DEBUG -  Exiting history()
2024-12-30 23:03:02,870 - DEBUG - Exiting history()
2024-12-30 23:03:02,870 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,870 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,871 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,871 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,871 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:03:02.809-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 7286, "operationId": 7286, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,885 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.113999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 7286, "operationId": 7286, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,885 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:02,886 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:02,886 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.012800000002607705>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.01215999999898486>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015159999998868445>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,886 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,887 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:02,887 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 7, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:03:02.809-0500\"}, \"total_value\": 1001.099984741211, \"equity\": 990.9999847412109, \"cash_balance\": 10.1, \"_id\": {\"$oid\": \"67736cf600fc7b9c128ff76c\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 5965, "operationId": 5965, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,904 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 17.014000000000003, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 18}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 18}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fr1hTZu015sF0apcjeShkHpcqdI=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617783, \"i\": 18}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 5965, "operationId": 5965, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:02,905 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:03,851 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"workloadType\": \"OPERATIONAL\", \"diskState\": \"READY\", \"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"provider\": \"AZURE\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:04.474Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:03,852 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:03,854 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10015.999999995984, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"isWritablePrimary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"region\": \"CANADA_CENTRAL\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTi...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:03,855 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:03,856 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10015.999999995984, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"nodeType\": \"ELECTABLE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617784, \"i\": 12}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:04Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:04.478Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:03,857 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:13,860 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"isWritablePrimary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"nodeType\": \"ELECTABLE\", \"workloadType\": \"OPERATIONAL\", \"provider\": \"AZURE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTi...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:13,860 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10015.999999995984, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"provider\": \"AZURE\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:14.484Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:13,861 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:13,861 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:13,866 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"region\": \"CANADA_CENTRAL\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\", \"diskState\": \"READY\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:14Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:14.488Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:13,866 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:13,959 - DEBUG - Entering download()
2024-12-30 23:03:13,959 - DEBUG - Disabling multithreading because DEBUG logging enabled
2024-12-30 23:03:13,959 - DEBUG -  Entering history()
2024-12-30 23:03:13,960 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:13,960 - DEBUG -   Entering history()
2024-12-30 23:03:13,960 - DEBUG - INTC: Yahoo GET parameters: {'range': '5d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:13,960 - DEBUG -    Entering get()
2024-12-30 23:03:13,960 - DEBUG -     Entering _make_request()
2024-12-30 23:03:13,960 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:13,960 - DEBUG - params={'range': '5d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:13,960 - DEBUG -      Entering _get_cookie_and_crumb()
2024-12-30 23:03:13,960 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:13,960 - DEBUG -       Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:13,960 - DEBUG - reusing cookie
2024-12-30 23:03:13,960 - DEBUG - reusing crumb
2024-12-30 23:03:13,961 - DEBUG -       Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:13,961 - DEBUG -      Exiting _get_cookie_and_crumb()
2024-12-30 23:03:14,045 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=5d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1659
2024-12-30 23:03:14,046 - DEBUG - response code=200
2024-12-30 23:03:14,046 - DEBUG -     Exiting _make_request()
2024-12-30 23:03:14,046 - DEBUG -    Exiting get()
2024-12-30 23:03:14,047 - DEBUG - INTC: yfinance received OHLC data: 2024-12-23 14:30:00 -> 2024-12-30 14:30:00
2024-12-30 23:03:14,047 - DEBUG - INTC: OHLC after cleaning: 2024-12-23 09:30:00-05:00 -> 2024-12-30 09:30:00-05:00
2024-12-30 23:03:14,048 - DEBUG - INTC: OHLC after combining events: 2024-12-23 00:00:00-05:00 -> 2024-12-30 00:00:00-05:00
2024-12-30 23:03:14,051 - DEBUG - INTC: yfinance returning OHLC: 2024-12-23 00:00:00-05:00 -> 2024-12-30 00:00:00-05:00
2024-12-30 23:03:14,051 - DEBUG -   Exiting history()
2024-12-30 23:03:14,051 - DEBUG -  Exiting history()
2024-12-30 23:03:14,051 - DEBUG - Exiting download()
2024-12-30 23:03:14,059 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:14,060 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,060 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,060 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:14,060 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 15137, "operationId": 15137, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,073 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.579999999999998, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 15137, "operationId": 15137, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,074 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:14,074 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:14,074 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,074 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,075 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:14,075 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 7305, "operationId": 7305, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,088 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.011999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 7305, "operationId": 7305, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,088 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:14,091 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:03:14,091 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:14,091 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,091 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,092 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:14,092 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 13271, "operationId": 13271, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,104 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.024999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 13271, "operationId": 13271, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,105 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:14,105 - DEBUG - Found 9 transactions
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:14,105 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:14,106 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:14,106 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:14,106 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:14,106 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:14,107 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:14,107 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:14,107 - DEBUG - Updated holdings for INTC: {'quantity': 50, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:14,107 - DEBUG - Entering history()
2024-12-30 23:03:14,107 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:14,107 - DEBUG -  Entering history()
2024-12-30 23:03:14,107 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:14,107 - DEBUG -   Entering get()
2024-12-30 23:03:14,107 - DEBUG -    Entering _make_request()
2024-12-30 23:03:14,108 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:14,108 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:14,108 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:14,108 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:14,108 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:14,108 - DEBUG - reusing cookie
2024-12-30 23:03:14,108 - DEBUG - reusing crumb
2024-12-30 23:03:14,108 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:14,108 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:14,190 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:14,190 - DEBUG - response code=200
2024-12-30 23:03:14,191 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:14,191 - DEBUG -   Exiting get()
2024-12-30 23:03:14,191 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:14,192 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:14,193 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:14,195 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:14,195 - DEBUG -  Exiting history()
2024-12-30 23:03:14,195 - DEBUG - Exiting history()
2024-12-30 23:03:14,195 - DEBUG - Current price for INTC - Input: 19.81999969482422, Rounded: 19.82
2024-12-30 23:03:14,195 - DEBUG - Market value for INTC - Input: 991.0, Rounded: 991.00
2024-12-30 23:03:14,195 - DEBUG - 
                        Symbol: INTC
                        Quantity: 50
                        Average Cost: 51.51
                        Current Price: 19.82
                        Market Value: 991.0
                        Total Cost: 2575.30
                        Total Proceeds: 1585.40
                        
2024-12-30 23:03:14,195 - DEBUG - 
        Portfolio Summary:
        Total Equity: 991.00
        Total Cost Basis: 2575.30
        Unrealized P/L: -1584.30
        
2024-12-30 23:03:14,199 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:03:14,199 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:14,200 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,200 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,200 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:14,200 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 15}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 5319, "operationId": 5319, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,215 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 15.734000000000002, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 5319, "operationId": 5319, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:14,215 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:14,216 - DEBUG - Found 9 transactions
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:14,216 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:14,217 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:14,217 - DEBUG - Updated holdings for INTC: {'quantity': 50, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:14,217 - DEBUG - Entering history()
2024-12-30 23:03:14,217 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['INTC', 1, 0])
2024-12-30 23:03:14,218 - DEBUG -  Entering history()
2024-12-30 23:03:14,218 - DEBUG - INTC: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:14,218 - DEBUG -   Entering get()
2024-12-30 23:03:14,218 - DEBUG -    Entering _make_request()
2024-12-30 23:03:14,218 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/INTC
2024-12-30 23:03:14,218 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-12-30 23:03:14,218 - DEBUG -     Entering _get_cookie_and_crumb()
2024-12-30 23:03:14,218 - DEBUG - cookie_mode = 'basic'
2024-12-30 23:03:14,218 - DEBUG -      Entering _get_cookie_and_crumb_basic()
2024-12-30 23:03:14,218 - DEBUG - reusing cookie
2024-12-30 23:03:14,218 - DEBUG - reusing crumb
2024-12-30 23:03:14,218 - DEBUG -      Exiting _get_cookie_and_crumb_basic()
2024-12-30 23:03:14,218 - DEBUG -     Exiting _get_cookie_and_crumb()
2024-12-30 23:03:14,238 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/INTC?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=P8TgYzxOaBO HTTP/1.1" 200 1199
2024-12-30 23:03:14,238 - DEBUG - response code=200
2024-12-30 23:03:14,238 - DEBUG -    Exiting _make_request()
2024-12-30 23:03:14,238 - DEBUG -   Exiting get()
2024-12-30 23:03:14,239 - DEBUG - INTC: yfinance received OHLC data: 2024-12-30 14:30:00 only
2024-12-30 23:03:14,239 - DEBUG - INTC: OHLC after cleaning: 2024-12-30 09:30:00-05:00 only
2024-12-30 23:03:14,241 - DEBUG - INTC: OHLC after combining events: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:14,243 - DEBUG - INTC: yfinance returning OHLC: 2024-12-30 00:00:00-05:00 only
2024-12-30 23:03:14,243 - DEBUG -  Exiting history()
2024-12-30 23:03:14,243 - DEBUG - Exiting history()
2024-12-30 23:03:14,243 - DEBUG - Current price for INTC - Input: 19.81999969482422, Rounded: 19.82
2024-12-30 23:03:14,243 - DEBUG - Market value for INTC - Input: 991.0, Rounded: 991.00
2024-12-30 23:03:14,243 - DEBUG - 
                        Symbol: INTC
                        Quantity: 50
                        Average Cost: 51.51
                        Current Price: 19.82
                        Market Value: 991.0
                        Total Cost: 2575.30
                        Total Proceeds: 1585.40
                        
2024-12-30 23:03:14,244 - DEBUG - 
        Portfolio Summary:
        Total Equity: 991.00
        Total Cost Basis: 2575.30
        Unrealized P/L: -1584.30
        
2024-12-30 23:03:18,181 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,181 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,181 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,181 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,182 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617794, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+xPBJl/RiXQWDPlAUkS3EnToC48=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 12571, "operationId": 12571, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,194 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 11.514999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 10.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 18}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 18}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 12571, "operationId": 12571, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,194 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,194 - DEBUG - Initial user balance: 10.1
2024-12-30 23:03:18,194 - DEBUG - Transaction request: {'symbol': 'INTC', 'quantity': 50, 'type': 'sell', 'price': 19.82}
2024-12-30 23:03:18,194 - DEBUG - Price rounding - Input: 19.82, Rounded: 19.82
2024-12-30 23:03:18,194 - DEBUG - Total cost calculation - Input: 991.0, Rounded: 991.00
2024-12-30 23:03:18,194 - DEBUG - Raw total: 991.00, Rounded total: 991.0
2024-12-30 23:03:18,194 - DEBUG - Current balance - Input: 10.1, Rounded: 10.10
2024-12-30 23:03:18,194 - DEBUG - Current balance: 10.1
2024-12-30 23:03:18,195 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,195 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,195 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,195 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,196 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 18}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 17314, "operationId": 17314, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,209 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.281, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 17314, "operationId": 17314, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,209 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,210 - DEBUG - Current portfolio state:
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:18,210 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:18,210 - DEBUG - Shares owned: 50
2024-12-30 23:03:18,211 - DEBUG - New balance after sell - Input: 1001.1, Rounded: 1001.10
2024-12-30 23:03:18,211 - DEBUG - Balance change: 10.1 -> 1001.1
2024-12-30 23:03:18,211 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,211 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,211 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,211 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,212 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"update\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 8, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 18}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"updates\": [{\"q\": {\"email\": \"muhammadharis337@gmail.com\"}, \"u\": {\"$set\": {\"balance\": 1001.1}}}]}", "commandName": "update", "databaseName": "StockSim", "requestId": 9911, "operationId": 9911, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,230 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 18.291, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 19}}, \"t\": 203}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 19}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 19}}}", "commandName": "update", "databaseName": "StockSim", "requestId": 9911, "operationId": 9911, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,230 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,230 - DEBUG - Inserting transaction record: {'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.82, 'total': 991.0, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 4, 3, 18, 230375, tzinfo=datetime.timezone.utc)}
2024-12-30 23:03:18,230 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,230 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,231 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,231 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,231 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"transactions\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 9, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 19}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 50, \"price\": 19.82, \"total\": 991.0, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T04:03:18.230Z\"}, \"_id\": {\"$oid\": \"67736d0600fc7b9c128ff76d\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 31215, "operationId": 31215, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,248 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 17.156000000000002, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 31215, "operationId": 31215, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,249 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,249 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,249 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,250 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,250 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,250 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 26002, "operationId": 26002, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,263 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.588999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1001.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 26002, "operationId": 26002, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,263 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,263 - DEBUG - Final user balance: 1001.1
2024-12-30 23:03:18,267 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,268 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,268 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,268 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,268 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 8887, "operationId": 8887, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,281 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 12.506, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1001.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 8887, "operationId": 8887, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,281 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,286 - DEBUG - Fetching portfolio for user: muhammadharis337@gmail.com
2024-12-30 23:03:18,286 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,286 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,286 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,286 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,286 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 20}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 6990, "operationId": 6990, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,300 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.501000000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 6990, "operationId": 6990, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,301 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,301 - DEBUG - Found 10 transactions
2024-12-30 23:03:18,301 - DEBUG - Transaction: {'_id': ObjectId('67736996dd5a9481a31996b2'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 38, 79000)}
2024-12-30 23:03:18,301 - DEBUG - Transaction: {'_id': ObjectId('677369a2dd5a9481a31996b7'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 48, 50, 724000)}
2024-12-30 23:03:18,301 - DEBUG - Transaction: {'_id': ObjectId('67736a4bdd5a9481a31996be'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 39, 568000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736a5cdd5a9481a31996c3'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 51, 56, 764000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736b76dd5a9481a31996d0'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 38, 560000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736b82dd5a9481a31996d5'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 56, 50, 705000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736be7fdbd455d51451e2a'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.81, 'total': 396.2, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 31, 347000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736beffdbd455d51451e2f'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 20, 'price': 19.82, 'total': 396.4, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 3, 58, 39, 352000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736cf300fc7b9c128ff768'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.81, 'total': 990.5, 'type': 'buy', 'timestamp': datetime.datetime(2024, 12, 31, 4, 2, 59, 778000)}
2024-12-30 23:03:18,302 - DEBUG - Transaction: {'_id': ObjectId('67736d0600fc7b9c128ff76d'), 'user_email': 'muhammadharis337@gmail.com', 'symbol': 'INTC', 'quantity': 50, 'price': 19.82, 'total': 991.0, 'type': 'sell', 'timestamp': datetime.datetime(2024, 12, 31, 4, 3, 18, 230000)}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('0.00')}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('396.20'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('396.40')}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('792.40'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('792.60')}
2024-12-30 23:03:18,302 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1188.60'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:18,303 - DEBUG - Updated holdings for INTC: {'quantity': 20, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1189.00')}
2024-12-30 23:03:18,303 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('1584.80'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:18,303 - DEBUG - Updated holdings for INTC: {'quantity': 50, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('1585.40')}
2024-12-30 23:03:18,303 - DEBUG - Updated holdings for INTC: {'quantity': 0, 'total_cost': Decimal('2575.30'), 'total_proceeds': Decimal('2576.40')}
2024-12-30 23:03:18,303 - DEBUG - 
        Portfolio Summary:
        Total Equity: 0.00
        Total Cost Basis: 0.00
        Unrealized P/L: 0.00
        
2024-12-30 23:03:18,303 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,303 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,304 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,304 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,304 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"email\": \"muhammadharis337@gmail.com\"}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 20713, "operationId": 20713, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,318 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 13.424, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736982dd5a9481a31996ad\"}, \"email\": \"muhammadharis337@gmail.com\", \"password\": \"$2b$12$DSLJiybAEecdVsafUq4PkeVErA1xv/FC7SPXACCbtZv..bMGGkQ/.\", \"balance\": 1001.1}], \"ns\": \"StockSim.users\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 20713, "operationId": 20713, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,318 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,318 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,319 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,319 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,319 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,319 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"transactions\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\"}, \"sort\": {\"timestamp\": 1}, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 933, "operationId": 933, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,333 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.248000000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736996dd5a9481a31996b2\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:38.079Z\"}}, {\"_id\": {\"$oid\": \"677369a2dd5a9481a31996b7\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.82, \"total\": 396.4, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:50.724Z\"}}, {\"_id\": {\"$oid\": \"67736a4bdd5a9481a31996be\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"buy\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:39.568Z\"}}, {\"_id\": {\"$oid\": \"67736a5cdd5a9481a31996c3\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"symbol\": \"INTC\", \"quantity\": 20, \"price\": 19.81, \"total\": 396.2, \"type\": \"sell\", \"timestamp\": {\"$date\": \"2024-12-31T03:51:56.764Z\"}}, {\"_id\": {\"$oid\": \"67736b76dd5a9481a31996d0\"}, \"user_email\": \"muhammadharis3...", "commandName": "find", "databaseName": "StockSim", "requestId": 933, "operationId": 933, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,333 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,333 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,334 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,334 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,334 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,334 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"find\": \"portfolio_snapshots\", \"filter\": {\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$lt\": {\"$date\": \"2024-12-30T23:03:18.318-0500\"}, \"$gte\": {\"$date\": \"2024-12-29T16:00:00-0500\"}}}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"$db\": \"StockSim\"}", "commandName": "find", "databaseName": "StockSim", "requestId": 7094, "operationId": 7094, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,348 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 14.258, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67736986dd5a9481a31996ae\"}, \"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-31T03:48:22.482Z\"}, \"total_value\": 1000.0, \"cash_balance\": 1000.0}], \"ns\": \"StockSim.portfolio_snapshots\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}}", "commandName": "find", "databaseName": "StockSim", "requestId": 7094, "operationId": 7094, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,348 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:18,348 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}}
2024-12-30 23:03:18,348 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x000002381C2462A0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67736cd900fc7b9c128ff766, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('stocksim-shard-00-00.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013792000000772534>, <ServerDescription ('stocksim-shard-00-01.dlybz.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.013342399999755438>, <ServerDescription ('stocksim-shard-00-02.dlybz.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.015262399999680933>]>", "clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,349 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checkout started", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,349 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked out", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-12-30 23:03:18,349 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command started", "command": "{\"insert\": \"portfolio_snapshots\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"BnQEGmByQNmZyhjswHO7Sw==\", \"subType\": \"04\"}}}, \"txnNumber\": 10, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 21}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"StockSim\", \"documents\": [{\"user_email\": \"muhammadharis337@gmail.com\", \"timestamp\": {\"$date\": \"2024-12-30T23:03:18.318-0500\"}, \"total_value\": 1001.1, \"cash_balance\": 1001.1, \"_id\": {\"$oid\": \"67736d0600fc7b9c128ff76e\"}}]}", "commandName": "insert", "databaseName": "StockSim", "requestId": 481, "operationId": 481, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,365 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Command succeeded", "durationMS": 16.029999999999998, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 22}}, \"t\": 203}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 22}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xnw6knThmrq5KtP3VzY6a0YzP7k=\", \"subType\": \"00\"}}, \"keyId\": 7413806116372480001}}, \"operationTime\": {\"$timestamp\": {\"t\": 1735617798, \"i\": 22}}}", "commandName": "insert", "databaseName": "StockSim", "requestId": 481, "operationId": 481, "driverConnectionId": 1, "serverConnectionId": 422769, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017}
2024-12-30 23:03:18,366 - DEBUG - {"clientId": {"$oid": "67736cd900fc7b9c128ff766"}, "message": "Connection checked in", "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-12-30 23:03:23,865 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2827fb5cd31066d42430\"}, \"counter\": 6}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"isWritablePrimary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"region\": \"CANADA_CENTRAL\", \"diskState\": \"READY\", \"nodeType\": \"ELECTABLE\", \"workloadType\": \"OPERATIONAL\"}, \"me\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"electionId\": {\"$oid\": \"7fffffff00000000000000cb\"}, \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTi...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:23,866 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 422724, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:23,866 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10000.0, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b27f834aadda69e90d1ea\"}, \"counter\": 4}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"region\": \"CANADA_CENTRAL\", \"workloadType\": \"OPERATIONAL\", \"nodeType\": \"ELECTABLE\", \"diskState\": \"READY\"}, \"me\": \"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:24.488Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:23,867 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 410701, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:23,870 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 10016.00000000326, "reply": "{\"topologyVersion\": {\"processId\": {\"$oid\": \"675b2858137574ff04f77a79\"}, \"counter\": 3}, \"hosts\": [\"stocksim-shard-00-00.dlybz.mongodb.net:27017\", \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"stocksim-shard-00-02.dlybz.mongodb.net:27017\"], \"setName\": \"atlas-b5rmbr-shard-0\", \"setVersion\": 20, \"secondary\": true, \"primary\": \"stocksim-shard-00-02.dlybz.mongodb.net:27017\", \"tags\": {\"provider\": \"AZURE\", \"diskState\": \"READY\", \"region\": \"CANADA_CENTRAL\", \"nodeType\": \"ELECTABLE\", \"workloadType\": \"OPERATIONAL\"}, \"me\": \"stocksim-shard-00-01.dlybz.mongodb.net:27017\", \"lastWrite\": {\"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"lastWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}, \"majorityOpTime\": {\"ts\": {\"$timestamp\": {\"t\": 1735617804, \"i\": 10}}, \"t\": 203}, \"majorityWriteDate\": {\"$date\": \"2024-12-31T04:03:24Z\"}}, \"maxBsonObjectSize\": 16777216, \"maxMessageSizeBytes\": 48000000, \"maxWriteBatchSize\": 100000, \"localTime\": {\"$date\": \"2024-12-31T04:03:24.494Z\"}, \"logicalSessionT...", "message": "Server heartbeat succeeded"}
2024-12-30 23:03:23,871 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "driverConnectionId": 1, "serverConnectionId": 413679, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "message": "Server heartbeat started"}
2024-12-30 23:03:29,479 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-00.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 5625.0, "failure": "\"_OperationCancelled('operation cancelled')\"", "message": "Server heartbeat failed"}
2024-12-30 23:03:29,479 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-02.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 5625.0, "failure": "\"_OperationCancelled('operation cancelled')\"", "message": "Server heartbeat failed"}
2024-12-30 23:03:29,511 - DEBUG - {"topologyId": {"$oid": "67736cd900fc7b9c128ff766"}, "serverHost": "stocksim-shard-00-01.dlybz.mongodb.net", "serverPort": 27017, "awaited": true, "durationMS": 5639.999999999418, "failure": "\"_OperationCancelled('operation cancelled')\"", "message": "Server heartbeat failed"}
